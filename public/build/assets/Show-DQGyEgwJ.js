import{s as k}from"./index-B1csfq6Z.js";import{_ as x}from"./GuestLayout-CVh8OIo-.js";import{a as _,c as b,o as s,b as w,d as r,e as a,g as d,h as m,t as y,p,N as V}from"./app-Bxx3_Drl.js";import{p as j}from"./lodash-B6KTBWO2.js";import{_ as u}from"./TextInput-DDHy23Ku.js";import"./index-DgWvsH9x.js";import"./ApplicationLogo-CgDQkS3N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z=["innerHTML"],v={class:"text-right mt-3"},B={key:0,class:"mt-3 p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert"},h={key:1},T={__name:"Show",props:{certificate:Object},setup(n){const{_:N,debounce:C,pickBy:U}=j,c=n,e=_({name:"",email:"",error:null,error_code:null}),f=()=>{e.error=null,e.error_code=null,p.post(route("attempts.store",c.certificate),{name:e.name,email:e.email}).then(o=>{V.visit(o.data.url)}).catch(o=>{e.error=o.response.data.message,e.error_code=o.response.status})},g=()=>{e.error=null,e.error_code=null,p.post(route("resend"),{email:e.email}).then(o=>{console.log(o)}).catch(o=>{e.error=o.response.data.message,e.error_code=o.response.status})};return(o,t)=>{const i=k;return s(),b(x,null,{default:w(()=>[t[3]||(t[3]=r("p",null,"Uzyskaj certyfikat:",-1)),r("h1",{class:"mb-4 text-xl font-extrabold leading-none tracking-tight text-gray-900 md:text-2xl lg:text-3xl dark:text-white",innerHTML:n.certificate.title_formatted},null,8,z),t[4]||(t[4]=r("p",null,"Podaj swoje dane:",-1)),a(u,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.name=l),label:"Imię i nazwisko",class:"w-full"},null,8,["modelValue"]),t[5]||(t[5]=r("label",null," Powyższe dane zostaną użyte do wygenerowania certyfikatu. Upewnij się, że podano pełne imię i nazwisko, oraz że nie ma żadnego błędu. ",-1)),t[6]||(t[6]=r("p",{class:"mt-3"},"Email:",-1)),a(u,{modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=l=>e.email=l),label:"Imię i nazwisko",class:"w-full"},null,8,["modelValue"]),r("div",v,[a(i,{icon:"pi pi-chevron-right",label:"Dalej",rounded:"",class:"mr-2",onClick:f})]),e.error?(s(),d("div",B,y(e.error),1)):m("",!0),e.error_code==409?(s(),d("div",h,[t[2]||(t[2]=r("p",{class:"text-lg"},"Mail nie dotarł?",-1)),a(i,{icon:"pi pi-refresh",label:"Wyślij ponownie",rounded:"",class:"mr-2",onClick:g})])):m("",!0)]),_:1})}}};export{T as default};

import{b,s as h}from"./index-DDkfKQ4i.js";import{l as f,f as _,o as m,b as e,a,n as w,I as q,J as x,c as v,N as C,O as I,w as O,e as T,u as c,K as k,P as B}from"./app-B0MOq6aJ.js";import{_ as K}from"./AppLayout-MRY_3-Nv.js";import{l as y,p as j}from"./lodash-apiAEw1-.js";import{_ as z}from"./TextInput-BYd05Zlf.js";import{s as V}from"./index-gNeS8Ap8.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-fQbPfd_V.js";import"./index-C_-aVjRQ.js";import"./DropdownLink-DQ3FXDby.js";const N={name:"Option",components:{TextInput:z,Checkbox:V},props:{option:Object},created(){this.update=y.debounce(this._update,500)},mounted(){this.option_value=this.option.option,this.is_correct=!!this.option.is_correct},data(){return{option_value:"",is_correct:!1}},methods:{_update(){axios.post(route("admin.options.update",this.option.id),{option:this.option_value,is_correct:this.is_correct})}}},P={class:"p-2"},U={class:"grid grid-cols-2 gap-2 py-2"},E={class:"flex items-center"},D=["for"],Q={style:{"text-align":"right"}},S=["href"];function F(o,n,u,g,s,r){const d=f("TextInput"),i=V,t=b;return m(),_("div",P,[n[2]||(n[2]=e("label",null,"Odpowiedź:",-1)),a(d,{style:{width:"100%"},modelValue:s.option_value,"onUpdate:modelValue":n[0]||(n[0]=l=>s.option_value=l),placeholder:"Option",onChange:o.update,onKeyup:o.update},null,8,["modelValue","onChange","onKeyup"]),e("div",U,[e("div",E,[e("label",{class:"pr-2",for:"is_correct"+this.option.id}," Poprawna? ",8,D),a(i,{modelValue:s.is_correct,"onUpdate:modelValue":n[1]||(n[1]=l=>s.is_correct=l),inputId:"is_correct"+this.option.id,binary:"",onChange:o.update},null,8,["modelValue","inputId","onChange"])]),e("div",Q,[e("a",{href:o.route("admin.options.destroy",this.option.id)},[a(t,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger"})],8,S)])])])}const J=$(N,[["render",F]]),L={name:"Question",components:{Option:J,InputText:h,TextInput:z},props:{question:Object},data(){return{data:{question:"",is_saved:!1,has_error:!1}}},created(){this.update=y.debounce(this._update,500)},mounted(){this.data.question=this.question.question},methods:{_update(){this.data.is_saved=!1,this.data.has_error=!1,axios.post(route("admin.questions.update",this.question.id),{question:this.data.question}).then(o=>{this.data.is_saved=!0}).catch(o=>{this.data.has_error=!0})}}},M={class:"card"},A={class:"grid grid-cols-12 pb-3"},G={class:"col-span-1 md:col-span-1 flex justify-between items-center"},H=["href"],R=["href"],W=["href"],X={class:"flex flex-wrap"},Y=["href"];function Z(o,n,u,g,s,r){const d=f("TextInput"),i=b,t=f("Option");return m(),_("div",M,[e("div",A,[n[1]||(n[1]=e("h3",{class:"col-span-12 text-lg pb-2 font-bold"},"Pytanie:",-1)),a(d,{class:w(["col-span-11 border",s.data.is_saved?"border-green-500":s.data.has_error?"border-red-500":""]),placeholder:"Name",onKeyup:o.update,onChange:o.update,modelValue:s.data.question,"onUpdate:modelValue":n[0]||(n[0]=l=>s.data.question=l),label:"Pytanie"},null,8,["class","onKeyup","onChange","modelValue"]),e("div",G,[e("a",{href:o.route("admin.questions.destroy",u.question.id),title:"Usuń pytanie"},[a(i,{icon:"pi pi-trash",class:"p-button-danger"})],8,H),e("a",{href:o.route("admin.questions.up",u.question.id),title:"Przesuń w górę"},[a(i,{disabled:u.question.order<1,icon:"pi pi-chevron-up",class:"p-button"},null,8,["disabled"])],8,R),e("a",{href:o.route("admin.questions.down",u.question.id),title:"Przesuń w dół"},[a(i,{icon:"pi pi-chevron-down",class:"p-button"})],8,W)])]),e("div",X,[(m(!0),_(q,null,x(u.question.options,l=>(m(),v(t,{key:l.id,option:l},null,8,["option"]))),128)),e("div",null,[e("a",{href:o.route("admin.options.create",u.question.id)},[a(i,{label:"Dodaj odpowiedź",icon:"pi pi-plus",class:"p-button-rounded p-button"})],8,Y)])])])}const ee=$(L,[["render",Z]]),te={class:"card"},oe={class:"font-semibold text-xl mb-3"},se=["href"],ne={class:"grid grid-cols-12 gap-2"},ie={class:"grid grid-cols-12 gap-2 mt-2"},ae={class:"col-span-12 md:col-span-11"},le={class:"col-span-12"},de={class:"card"},ue={class:"col-span-12"},re=["href"],xe={__name:"Edit",props:{quiz:Object},setup(o){const{_:n,debounce:u,pickBy:g}=j,s=o,r=C({name:{value:s.quiz.name,error:null},slug:{value:s.quiz.slug,error:null}}),d=u(()=>{I.post(route("admin.quizzes.update",s.quiz.id),{name:r.name.value,slug:r.slug.value}).then(i=>{console.log(i)})},500);return(i,t)=>{const l=b;return m(),v(K,null,{default:O(()=>[e("div",te,[e("div",oe,[e("a",{href:i.route("admin.quizzes.index")},[a(l,{icon:"pi pi-chevron-left",outlined:"",rounded:"",class:"mr-2"})],8,se),t[4]||(t[4]=T(" Edycja testu "))]),e("div",ne,[t[5]||(t[5]=e("label",{class:"flex items-center col-span-12 mb-2 md:col-span-1 md:mb-0"},"Nazwa:",-1)),a(c(h),{class:"col-span-12 md:col-span-11",modelValue:r.name.value,"onUpdate:modelValue":t[0]||(t[0]=p=>r.name.value=p),placeholder:"Name",onKeyup:c(d),onChange:c(d)},null,8,["modelValue","onKeyup","onChange"])]),e("div",ie,[t[6]||(t[6]=e("label",{for:"email3",class:"flex items-center col-span-12 mb-2 md:col-span-1 md:mb-0"},"Slug:",-1)),e("div",ae,[k(e("input",{type:"text",class:"p-inputtext p-component p-inputtext-fluid","onUpdate:modelValue":t[1]||(t[1]=p=>r.slug.value=p),placeholder:"Slug",onChange:t[2]||(t[2]=(...p)=>c(d)&&c(d)(...p)),onKeyup:t[3]||(t[3]=(...p)=>c(d)&&c(d)(...p))},null,544),[[B,r.slug.value]])]),e("div",le,[a(c(h),{disabled:"",type:"text",class:"p-inputtext p-component p-inputtext-fluid",value:i.route("quiz.show",r.slug.value)},null,8,["value"])])])]),(m(!0),_(q,null,x(s.quiz.questions,p=>(m(),v(ee,{question:p},null,8,["question"]))),256)),e("div",de,[e("div",ue,[e("a",{href:i.route("admin.quizzes.add_question",s.quiz.id)},[a(l,{label:"Dodaj pytanie",icon:"pi pi-plus",class:"mr-2"})],8,re)])])]),_:1})}}};export{xe as default};

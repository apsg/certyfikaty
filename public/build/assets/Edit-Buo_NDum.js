import{B as C,$ as T,ae as _,af as I,ag as A,c as p,o as c,a as o,d as b,m as g,b as v,e as u,n as M,F as k,r as P,f as y,g as K,i as H,h as j,j as S,u as f,t as N}from"./app-YXQVei18.js";import{b as U}from"./index-CPOj9AjG.js";import{s as D}from"./index-TVyWaqdp.js";import{_ as O}from"./AppLayout-AFhkgNBX.js";import{s as L}from"./index-Bh5uLi11.js";import{l as z,p as W}from"./lodash-DzKlgL5Z.js";import{_ as E}from"./TextInput-Da_7Matj.js";import{s as x}from"./index-DAT2adJ4.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CYBUZu1P.js";import"./index-beM1XagX.js";import"./DropdownLink-B74Zmkdc.js";var F=function(e){var t=e.dt;return`
.p-slider {
    position: relative;
    background: `.concat(t("slider.track.background"),`;
    border-radius: `).concat(t("slider.track.border.radius"),`;
}

.p-slider-handle {
    cursor: grab;
    touch-action: none;
    user-select: none;
    display: flex;
    justify-content: center;
    align-items: center;
    height: `).concat(t("slider.handle.height"),`;
    width: `).concat(t("slider.handle.width"),`;
    background: `).concat(t("slider.handle.background"),`;
    border-radius: `).concat(t("slider.handle.border.radius"),`;
    transition: background `).concat(t("slider.transition.duration"),", color ").concat(t("slider.transition.duration"),", border-color ").concat(t("slider.transition.duration"),", box-shadow ").concat(t("slider.transition.duration"),", outline-color ").concat(t("slider.transition.duration"),`;
    outline-color: transparent;
}

.p-slider-handle::before {
    content: "";
    width: `).concat(t("slider.handle.content.width"),`;
    height: `).concat(t("slider.handle.content.height"),`;
    display: block;
    background: `).concat(t("slider.handle.content.background"),`;
    border-radius: `).concat(t("slider.handle.content.border.radius"),`;
    box-shadow: `).concat(t("slider.handle.content.shadow"),`;
    transition: background `).concat(t("slider.transition.duration"),`;
}

.p-slider:not(.p-disabled) .p-slider-handle:hover {
    background: `).concat(t("slider.handle.hover.background"),`;
}

.p-slider:not(.p-disabled) .p-slider-handle:hover::before {
    background: `).concat(t("slider.handle.content.hover.background"),`;
}

.p-slider-handle:focus-visible {
    box-shadow: `).concat(t("slider.handle.focus.ring.shadow"),`;
    outline: `).concat(t("slider.handle.focus.ring.width")," ").concat(t("slider.handle.focus.ring.style")," ").concat(t("slider.handle.focus.ring.color"),`;
    outline-offset: `).concat(t("slider.handle.focus.ring.offset"),`;
}

.p-slider-range {
    display: block;
    background: `).concat(t("slider.range.background"),`;
    border-radius: `).concat(t("slider.border.radius"),`;
}

.p-slider.p-slider-horizontal {
    height: `).concat(t("slider.track.size"),`;
}

.p-slider-horizontal .p-slider-range {
    inset-block-start: 0;
    inset-inline-start: 0;
    height: 100%;
}

.p-slider-horizontal .p-slider-handle {
    inset-block-start: 50%;
    margin-block-start: calc(-1 * calc(`).concat(t("slider.handle.height"),` / 2));
    margin-inline-start: calc(-1 * calc(`).concat(t("slider.handle.width"),` / 2));
}

.p-slider-vertical {
    min-height: 100px;
    width: `).concat(t("slider.track.size"),`;
}

.p-slider-vertical .p-slider-handle {
    inset-inline-start: 50%;
    margin-inline-start: calc(-1 * calc(`).concat(t("slider.handle.width"),` / 2));
    margin-block-end: calc(-1 * calc(`).concat(t("slider.handle.height"),` / 2));
}

.p-slider-vertical .p-slider-range {
    inset-block-end: 0;
    inset-inline-start: 0;
    width: 100%;
}
`)},X={handle:{position:"absolute"},range:{position:"absolute"}},Y={root:function(e){var t=e.instance,s=e.props;return["p-slider p-component",{"p-disabled":s.disabled,"p-invalid":t.$invalid,"p-slider-horizontal":s.orientation==="horizontal","p-slider-vertical":s.orientation==="vertical"}]},range:"p-slider-range",handle:"p-slider-handle"},$=C.extend({name:"slider",theme:F,classes:Y,inlineStyles:X}),R={name:"BaseSlider",extends:U,props:{min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:$,provide:function(){return{$pcSlider:this,$parentInstance:this}}};function Q(n){return ee(n)||Z(n)||J(n)||G()}function G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(n,e){if(n){if(typeof n=="string")return w(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(n,e):void 0}}function Z(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ee(n){if(Array.isArray(n))return w(n)}function w(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}var V={name:"Slider",extends:R,inheritAttrs:!1,emits:["change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var e=this.$el.getBoundingClientRect();this.initX=e.left+I(),this.initY=e.top+A(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(e){var t,s=e.touches?e.touches[0].pageX:e.pageX,r=e.touches?e.touches[0].pageY:e.pageY;this.orientation==="horizontal"?_(this.$el)?t=(this.initX+this.barWidth-s)*100/this.barWidth:t=(s-this.initX)*100/this.barWidth:t=(this.initY+this.barHeight-r)*100/this.barHeight;var i=(this.max-this.min)*(t/100)+this.min;if(this.step){var a=this.range?this.value[this.handleIndex]:this.value,d=i-a;d<0?i=a+Math.ceil(i/this.step-a/this.step)*this.step:d>0&&(i=a+Math.floor(i/this.step-a/this.step)*this.step)}else i=Math.floor(i);this.updateModel(e,i)},updateModel:function(e,t){var s=parseFloat(t.toFixed(10)),r;this.range?(r=this.value?Q(this.value):[],this.handleIndex==0?(s<this.min?s=this.min:s>=this.max&&(s=this.max),r[0]=s):(s>this.max?s=this.max:s<=this.min&&(s=this.min),r[1]=s)):(s<this.min?s=this.min:s>this.max&&(s=this.max),r=s),this.writeValue(r,e),this.$emit("change",r)},onDragStart:function(e,t){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.value[0]===this.max?this.handleIndex=0:this.handleIndex=t,e.currentTarget.focus())},onDrag:function(e){this.dragging&&this.setValue(e)},onDragEnd:function(e){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:e,value:this.value}))},onBarClick:function(e){this.disabled||T(e.target,"data-pc-section")!=="handle"&&(this.updateDomData(),this.setValue(e))},onMouseDown:function(e,t){this.bindDragListeners(),this.onDragStart(e,t)},onKeyDown:function(e,t){switch(this.handleIndex=t,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,t),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,t),e.preventDefault();break;case"PageDown":this.decrementValue(e,t,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,t,!0),e.preventDefault();break;case"Home":this.updateModel(e,this.min),e.preventDefault();break;case"End":this.updateModel(e,this.max),e.preventDefault();break}},onBlur:function(e,t){var s,r;(s=(r=this.formField).onBlur)===null||s===void 0||s.call(r,e)},decrementValue:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r;this.range?this.step?r=this.value[t]-this.step:r=this.value[t]-1:this.step?r=this.value-this.step:!this.step&&s?r=this.value-10:r=this.value-1,this.updateModel(e,r),e.preventDefault()},incrementValue:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r;this.range?this.step?r=this.value[t]+this.step:r=this.value[t]+1:this.step?r=this.value+this.step:!this.step&&s?r=this.value+10:r=this.value+1,this.updateModel(e,r),e.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)},rangeStyle:function(){if(this.range){var e=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,t=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{"inset-inline-start":t+"%",width:e+"%"}:{bottom:t+"%",height:e+"%"}}else return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{"inset-inline-start":this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},rangeStartHandleStyle:function(){return this.horizontal?{"inset-inline-start":this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{"inset-inline-start":this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}},computed:{value:function(){var e;if(this.range){var t,s,r,i;return[(t=(s=this.d_value)===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:this.min,(r=(i=this.d_value)===null||i===void 0?void 0:i[1])!==null&&r!==void 0?r:this.max]}return(e=this.d_value)!==null&&e!==void 0?e:this.min},horizontal:function(){return this.orientation==="horizontal"},vertical:function(){return this.orientation==="vertical"},handlePosition:function(){return this.value<this.min?0:this.value>this.max?100:(this.value-this.min)*100/(this.max-this.min)},rangeStartPosition:function(){return this.value&&this.value[0]!==void 0?this.value[0]<this.min?0:(this.value[0]-this.min)*100/(this.max-this.min):0},rangeEndPosition:function(){return this.value&&this.value.length===2&&this.value[1]!==void 0?this.value[1]>this.max?100:(this.value[1]-this.min)*100/(this.max-this.min):100}}},ne=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],te=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],ie=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"];function ae(n,e,t,s,r,i){return c(),p("div",g({class:n.cx("root"),onClick:e[18]||(e[18]=function(){return i.onBarClick&&i.onBarClick.apply(i,arguments)})},n.ptmi("root"),{"data-p-sliding":!1}),[o("span",g({class:n.cx("range"),style:[n.sx("range"),i.rangeStyle()]},n.ptm("range")),null,16),n.range?b("",!0):(c(),p("span",g({key:0,class:n.cx("handle"),style:[n.sx("handle"),i.handleStyle()],onTouchstartPassive:e[0]||(e[0]=function(a){return i.onDragStart(a)}),onTouchmovePassive:e[1]||(e[1]=function(a){return i.onDrag(a)}),onTouchend:e[2]||(e[2]=function(a){return i.onDragEnd(a)}),onMousedown:e[3]||(e[3]=function(a){return i.onMouseDown(a)}),onKeydown:e[4]||(e[4]=function(a){return i.onKeyDown(a)}),onBlur:e[5]||(e[5]=function(a){return i.onBlur(a)}),tabindex:n.tabindex,role:"slider","aria-valuemin":n.min,"aria-valuenow":n.d_value,"aria-valuemax":n.max,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-orientation":n.orientation},n.ptm("handle")),null,16,ne)),n.range?(c(),p("span",g({key:1,class:n.cx("handle"),style:[n.sx("handle"),i.rangeStartHandleStyle()],onTouchstartPassive:e[6]||(e[6]=function(a){return i.onDragStart(a,0)}),onTouchmovePassive:e[7]||(e[7]=function(a){return i.onDrag(a)}),onTouchend:e[8]||(e[8]=function(a){return i.onDragEnd(a)}),onMousedown:e[9]||(e[9]=function(a){return i.onMouseDown(a,0)}),onKeydown:e[10]||(e[10]=function(a){return i.onKeyDown(a,0)}),onBlur:e[11]||(e[11]=function(a){return i.onBlur(a,0)}),tabindex:n.tabindex,role:"slider","aria-valuemin":n.min,"aria-valuenow":n.d_value?n.d_value[0]:null,"aria-valuemax":n.max,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-orientation":n.orientation},n.ptm("startHandler")),null,16,te)):b("",!0),n.range?(c(),p("span",g({key:2,class:n.cx("handle"),style:[n.sx("handle"),i.rangeEndHandleStyle()],onTouchstartPassive:e[12]||(e[12]=function(a){return i.onDragStart(a,1)}),onTouchmovePassive:e[13]||(e[13]=function(a){return i.onDrag(a)}),onTouchend:e[14]||(e[14]=function(a){return i.onDragEnd(a)}),onMousedown:e[15]||(e[15]=function(a){return i.onMouseDown(a,1)}),onKeydown:e[16]||(e[16]=function(a){return i.onKeyDown(a,1)}),onBlur:e[17]||(e[17]=function(a){return i.onBlur(a,1)}),tabindex:n.tabindex,role:"slider","aria-valuemin":n.min,"aria-valuenow":n.d_value?n.d_value[1]:null,"aria-valuemax":n.max,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-orientation":n.orientation},n.ptm("endHandler")),null,16,ie)):b("",!0)],16)}V.render=ae;const re={name:"Option",components:{TextInput:E,Checkbox:x},props:{option:Object},created(){this.update=z.debounce(this._update,500)},mounted(){this.option_value=this.option.option,this.is_correct=!!this.option.is_correct},data(){return{option_value:"",is_correct:!1}},methods:{_update(){axios.post(route("admin.options.update",this.option.id),{option:this.option_value,is_correct:this.is_correct})}}},se={class:"p-2"},oe={class:"grid grid-cols-2 gap-2 py-2"},le={class:"flex items-center"},de=["for"],ue={style:{"text-align":"right"}},he=["href"];function ce(n,e,t,s,r,i){const a=v("TextInput"),d=x,l=D;return c(),p("div",se,[e[2]||(e[2]=o("label",null,"Odpowiedź:",-1)),u(a,{style:{width:"100%"},modelValue:r.option_value,"onUpdate:modelValue":e[0]||(e[0]=h=>r.option_value=h),placeholder:"Option",onChange:n.update,onKeyup:n.update},null,8,["modelValue","onChange","onKeyup"]),o("div",oe,[o("div",le,[o("label",{class:"pr-2",for:"is_correct"+this.option.id}," Poprawna? ",8,de),u(d,{modelValue:r.is_correct,"onUpdate:modelValue":e[1]||(e[1]=h=>r.is_correct=h),inputId:"is_correct"+this.option.id,binary:"",onChange:n.update},null,8,["modelValue","inputId","onChange"])]),o("div",ue,[o("a",{href:n.route("admin.options.destroy",this.option.id)},[u(l,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger"})],8,he)])])])}const pe=q(re,[["render",ce]]),me={name:"Question",components:{Option:pe,InputText:L,TextInput:E},props:{question:Object},data(){return{data:{question:"",is_saved:!1,has_error:!1}}},created(){this.update=z.debounce(this._update,500)},mounted(){this.data.question=this.question.question},methods:{_update(){this.data.is_saved=!1,this.data.has_error=!1,axios.post(route("admin.questions.update",this.question.id),{question:this.data.question}).then(n=>{this.data.is_saved=!0}).catch(n=>{this.data.has_error=!0})}}},ge={class:"card"},fe={class:"grid grid-cols-12 pb-3"},be={class:"col-span-1 md:col-span-1 flex justify-between items-center"},ve=["href"],ye=["href"],we=["href"],De={class:"flex flex-wrap"},Se=["href"];function ke(n,e,t,s,r,i){const a=v("TextInput"),d=D,l=v("Option");return c(),p("div",ge,[o("div",fe,[e[1]||(e[1]=o("h3",{class:"col-span-12 text-lg pb-2 font-bold"},"Pytanie:",-1)),u(a,{class:M(["col-span-11 border",r.data.is_saved?"border-green-500":r.data.has_error?"border-red-500":""]),placeholder:"Name",onKeyup:n.update,onChange:n.update,modelValue:r.data.question,"onUpdate:modelValue":e[0]||(e[0]=h=>r.data.question=h),label:"Pytanie"},null,8,["class","onKeyup","onChange","modelValue"]),o("div",be,[o("a",{href:n.route("admin.questions.destroy",t.question.id),title:"Usuń pytanie"},[u(d,{icon:"pi pi-trash",class:"p-button-danger"})],8,ve),o("a",{href:n.route("admin.questions.up",t.question.id),title:"Przesuń w górę"},[u(d,{disabled:t.question.order<1,icon:"pi pi-chevron-up",class:"p-button"},null,8,["disabled"])],8,ye),o("a",{href:n.route("admin.questions.down",t.question.id),title:"Przesuń w dół"},[u(d,{icon:"pi pi-chevron-down",class:"p-button"})],8,we)])]),o("div",De,[(c(!0),p(k,null,P(t.question.options,h=>(c(),y(l,{key:h.id,option:h},null,8,["option"]))),128)),o("div",null,[o("a",{href:n.route("admin.options.create",t.question.id)},[u(d,{label:"Dodaj odpowiedź",icon:"pi pi-plus",class:"p-button-rounded p-button"})],8,Se)])])])}const Pe=q(me,[["render",ke]]),Le={class:"card"},ze={class:"font-semibold text-xl mb-3"},Ee=["href"],xe={class:"grid grid-cols-12 gap-2"},qe={class:"grid grid-cols-12 gap-2 mt-2"},Ve={class:"col-span-12"},Be={class:"font-bold"},Ce={class:"card"},Te={class:"col-span-12"},_e=["href"],Ye={__name:"Edit",props:{quiz:Object},setup(n){const{_:e,debounce:t,pickBy:s}=W,r=n,i=K({name:{value:r.quiz.name,error:null},slug:{value:r.quiz.slug,error:null},min_percentage:{value:r.quiz.min_percentage,error:null}}),a=t(()=>{H.post(route("admin.quizzes.update",r.quiz.id),{name:i.name.value,slug:i.slug.value,min_percentage:i.min_percentage.value}).then(d=>{console.log(d)})},500);return(d,l)=>{const h=D,B=V;return c(),y(O,null,{default:j(()=>[o("div",Le,[o("div",ze,[o("a",{href:d.route("admin.quizzes.index")},[u(h,{icon:"pi pi-chevron-left",outlined:"",rounded:"",class:"mr-2"})],8,Ee),l[2]||(l[2]=S(" Edycja testu "))]),o("div",xe,[l[3]||(l[3]=o("label",{class:"flex items-center col-span-12 mb-2 md:col-span-1 md:mb-0"},"Nazwa:",-1)),u(f(L),{class:"col-span-12 md:col-span-11",modelValue:i.name.value,"onUpdate:modelValue":l[0]||(l[0]=m=>i.name.value=m),placeholder:"Name",onKeyup:f(a),onChange:f(a)},null,8,["modelValue","onKeyup","onChange"])]),o("div",qe,[l[5]||(l[5]=o("label",{for:"email3",class:"flex items-center col-span-12 mb-2 md:col-span-1 md:mb-0"},"Slug:",-1)),o("div",Ve,[o("p",null,[l[4]||(l[4]=S("Procent poprawnych odpowiedzi wymagany, aby zdać: ")),o("span",Be,N(i.min_percentage.value)+"%",1)]),u(B,{class:"mt-5",min:0,max:100,modelValue:i.min_percentage.value,"onUpdate:modelValue":l[1]||(l[1]=m=>i.min_percentage.value=m),onChange:f(a)},null,8,["modelValue","onChange"])])])]),(c(!0),p(k,null,P(r.quiz.questions,m=>(c(),y(Pe,{question:m},null,8,["question"]))),256)),o("div",Ce,[o("div",Te,[o("a",{href:d.route("admin.quizzes.add_question",r.quiz.id)},[u(h,{label:"Dodaj pytanie",icon:"pi pi-plus",class:"mr-2"})],8,_e)])])]),_:1})}}};export{Ye as default};

import{s as g}from"./index-C0KEOSw4.js";import{b as h,c as _,o as m,a as e,e as a,n as w,F as q,r as x,f,g as C,i as I,h as O,j as T,u as c,w as j,Q as k}from"./app-C-BKs9t3.js";import{_ as B}from"./AppLayout-BTs4z47X.js";import{s as v}from"./index-DYCBEag_.js";import{l as y,p as K}from"./lodash-Btp54Ntk.js";import{_ as z}from"./TextInput-qmSsrHDp.js";import{s as V}from"./index-DW8tNolG.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-KHA0_16n.js";import"./index-BgSp-7Xz.js";import"./index-5MsfTt_f.js";import"./DropdownLink-E2c27tgd.js";const N={name:"Option",components:{TextInput:z,Checkbox:V},props:{option:Object},created(){this.update=y.debounce(this._update,500)},mounted(){console.log(this.option.id,this.option.is_correct),this.option_value=this.option.option,this.is_correct=!!this.option.is_correct},data(){return{option_value:"",is_correct:!1}},methods:{_update(){axios.post(route("admin.options.update",this.option.id),{option:this.option_value,is_correct:this.is_correct})}}},U={class:"p-2"},P={class:"grid grid-cols-2 gap-2 py-2"},E={class:"flex items-center"},D=["for"],Q={style:{"text-align":"right"}},F=["href"];function S(o,n,r,b,s,u){const d=h("TextInput"),i=V,t=g;return m(),_("div",U,[n[2]||(n[2]=e("label",null,"Odpowiedź:",-1)),a(d,{style:{width:"100%"},modelValue:s.option_value,"onUpdate:modelValue":n[0]||(n[0]=l=>s.option_value=l),placeholder:"Option",onChange:o.update,onKeyup:o.update},null,8,["modelValue","onChange","onKeyup"]),e("div",P,[e("div",E,[e("label",{class:"pr-2",for:"is_correct"+this.option.id}," Poprawna? ",8,D),a(i,{modelValue:s.is_correct,"onUpdate:modelValue":n[1]||(n[1]=l=>s.is_correct=l),inputId:"is_correct"+this.option.id,binary:"",onChange:o.update},null,8,["modelValue","inputId","onChange"])]),e("div",Q,[e("a",{href:o.route("admin.options.destroy",this.option.id)},[a(t,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger"})],8,F)])])])}const L=$(N,[["render",S]]),M={name:"Question",components:{Option:L,InputText:v,TextInput:z},props:{question:Object},data(){return{data:{question:"",is_saved:!1,has_error:!1}}},created(){this.update=y.debounce(this._update,500)},mounted(){this.data.question=this.question.question},methods:{_update(){this.data.is_saved=!1,this.data.has_error=!1,axios.post(route("admin.questions.update",this.question.id),{question:this.data.question}).then(o=>{this.data.is_saved=!0}).catch(o=>{this.data.has_error=!0})}}},A={class:"card"},G={class:"grid grid-cols-12 pb-3"},H={class:"col-span-1 md:col-span-1 flex justify-between items-center"},J=["href"],R=["href"],W=["href"],X={class:"flex flex-wrap"},Y=["href"];function Z(o,n,r,b,s,u){const d=h("TextInput"),i=g,t=h("Option");return m(),_("div",A,[e("div",G,[n[1]||(n[1]=e("h3",{class:"col-span-12 text-lg pb-2 font-bold"},"Pytanie:",-1)),a(d,{class:w(["col-span-11 border",s.data.is_saved?"border-green-500":s.data.has_error?"border-red-500":""]),placeholder:"Name",onKeyup:o.update,onChange:o.update,modelValue:s.data.question,"onUpdate:modelValue":n[0]||(n[0]=l=>s.data.question=l),label:"Pytanie"},null,8,["class","onKeyup","onChange","modelValue"]),e("div",H,[e("a",{href:o.route("admin.questions.destroy",r.question.id),title:"Usuń pytanie"},[a(i,{icon:"pi pi-trash",class:"p-button-danger"})],8,J),e("a",{href:o.route("admin.questions.up",r.question.id),title:"Przesuń w górę"},[a(i,{disabled:r.question.order<1,icon:"pi pi-chevron-up",class:"p-button"},null,8,["disabled"])],8,R),e("a",{href:o.route("admin.questions.down",r.question.id),title:"Przesuń w dół"},[a(i,{icon:"pi pi-chevron-down",class:"p-button"})],8,W)])]),e("div",X,[(m(!0),_(q,null,x(r.question.options,l=>(m(),f(t,{key:l.id,option:l},null,8,["option"]))),128)),e("div",null,[e("a",{href:o.route("admin.options.create",r.question.id)},[a(i,{label:"Dodaj odpowiedź",icon:"pi pi-plus",class:"p-button-rounded p-button"})],8,Y)])])])}const ee=$(M,[["render",Z]]),te={class:"card"},oe={class:"font-semibold text-xl mb-3"},se=["href"],ne={class:"grid grid-cols-12 gap-2"},ie={class:"grid grid-cols-12 gap-2 mt-2"},ae={class:"col-span-12 md:col-span-11"},le={class:"col-span-12"},de={class:"card"},re={class:"col-span-12"},ue=["href"],ze={__name:"Edit",props:{quiz:Object},setup(o){const{_:n,debounce:r,pickBy:b}=K,s=o,u=C({name:{value:s.quiz.name,error:null},slug:{value:s.quiz.slug,error:null}}),d=r(()=>{I.post(route("admin.quizzes.update",s.quiz.id),{name:u.name.value,slug:u.slug.value}).then(i=>{console.log(i)})},500);return(i,t)=>{const l=g;return m(),f(B,null,{default:O(()=>[e("div",te,[e("div",oe,[e("a",{href:i.route("admin.quizzes.index")},[a(l,{icon:"pi pi-chevron-left",outlined:"",rounded:"",class:"mr-2"})],8,se),t[4]||(t[4]=T(" Edycja testu "))]),e("div",ne,[t[5]||(t[5]=e("label",{class:"flex items-center col-span-12 mb-2 md:col-span-1 md:mb-0"},"Nazwa:",-1)),a(c(v),{class:"col-span-12 md:col-span-11",modelValue:u.name.value,"onUpdate:modelValue":t[0]||(t[0]=p=>u.name.value=p),placeholder:"Name",onKeyup:c(d),onChange:c(d)},null,8,["modelValue","onKeyup","onChange"])]),e("div",ie,[t[6]||(t[6]=e("label",{for:"email3",class:"flex items-center col-span-12 mb-2 md:col-span-1 md:mb-0"},"Slug:",-1)),e("div",ae,[j(e("input",{type:"text",class:"p-inputtext p-component p-inputtext-fluid","onUpdate:modelValue":t[1]||(t[1]=p=>u.slug.value=p),placeholder:"Slug",onChange:t[2]||(t[2]=(...p)=>c(d)&&c(d)(...p)),onKeyup:t[3]||(t[3]=(...p)=>c(d)&&c(d)(...p))},null,544),[[k,u.slug.value]])]),e("div",le,[a(c(v),{disabled:"",type:"text",class:"p-inputtext p-component p-inputtext-fluid",value:i.route("quiz.show",u.slug.value)},null,8,["value"])])])]),(m(!0),_(q,null,x(s.quiz.questions,p=>(m(),f(ee,{question:p},null,8,["question"]))),256)),e("div",de,[e("div",re,[e("a",{href:i.route("admin.quizzes.add_question",s.quiz.id)},[a(l,{label:"Dodaj pytanie",icon:"pi pi-plus",class:"mr-2"})],8,ue)])])]),_:1})}}};export{ze as default};
